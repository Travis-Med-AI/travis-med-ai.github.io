<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.2543ff947a193d7f33b1.css">@import url(https://fonts.googleapis.com/css?family=Inconsolata&display=swap);@import url(https://fonts.googleapis.com/css?family=Source+Sans+Pro&display=swap);</style><meta name="generator" content="Gatsby 2.24.51"/><title data-rh="true">Travis Med AI | Travis Med AI</title><meta data-rh="true" name="description" content="Documentation for Travis Med AI"/><meta data-rh="true" property="og:title" content="b) Contributing Models"/><meta data-rh="true" property="og:description" content="Documentation for Travis Med AI"/><meta data-rh="true" property="og:type" content="website"/><meta data-rh="true" name="twitter:card" content="summary"/><meta data-rh="true" name="twitter:title" content="b) Contributing Models"/><meta data-rh="true" name="twitter:description" content="Documentation for Travis Med AI"/><meta data-rh="true" charSet="utf-8"/><link data-rh="true" rel="icon" type="image/svg" href="https://raw.githubusercontent.com/Travis-Med-AI/med-ai/jacob/logo.svg"/><link as="script" rel="preload" href="/webpack-runtime-ed65c57d1337cf222d49.js"/><link as="script" rel="preload" href="/framework-a7bb16c5c6afeed647b2.js"/><link as="script" rel="preload" href="/styles-24f8f5af0e19035407c6.js"/><link as="script" rel="preload" href="/app-1bd4066183ebedab5628.js"/><link as="script" rel="preload" href="/044b48a8-9f6a8978b2a91152423b.js"/><link as="script" rel="preload" href="/commons-64389869db8c12890534.js"/><link as="script" rel="preload" href="/component---src-contributing-contributing-models-mdx-ea33b9bd99be1fed97eb.js"/><link as="fetch" rel="preload" href="/page-data/contributing/contributing-models/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/1635659820.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion-css="1ouyflx">.css-1ouyflx{font-family:'Source Sans Pro',sans-serif;font-size:20px;font-weight:400;line-height:1.5;color:var(--theme-ui-colors-text,#2D3747);background-color:var(--theme-ui-colors-background,#FFFFFF);}</style><div class="css-1ouyflx"><style data-emotion-css="jrjj6h">.css-jrjj6h > div{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;}</style><style data-emotion-css="1ubpee3">.css-1ubpee3{min-height:100vh;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}.css-1ubpee3 > div{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;}</style><style data-emotion-css="hbri28">.css-hbri28{box-sizing:border-box;min-width:0;min-height:100vh;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}.css-hbri28 > div{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;}</style><div data-testid="layout" class="css-hbri28"><style data-emotion-css="1xva7m0">body{margin:0;padding:0;}.icon-link{display:none;}.with-overlay{overflow:hidden;}</style><style data-emotion-css="zf0iqh">.css-zf0iqh{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;min-height:100vh;}</style><style data-emotion-css="1tjxv7i">.css-1tjxv7i{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;min-height:100vh;}</style><style data-emotion-css="238csb">.css-238csb{box-sizing:border-box;min-width:0;-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;min-height:100vh;}</style><main class="css-238csb"><style data-emotion-css="18wmtq">.css-18wmtq{background-color:var(--theme-ui-colors-header-bg,#F5F6F7);position:relative;z-index:1;border-bottom:1px solid var(--theme-ui-colors-border,#CED4DE);}</style><div data-testid="header" class="css-18wmtq"><style data-emotion-css="zankq9">.css-zankq9{display:none;position:absolute;top:calc(100% + 15px);left:30px;}@media screen and (max-width:57.5em){.css-zankq9{display:block;}}</style><style data-emotion-css="1s0wdqz">.css-1s0wdqz{box-sizing:border-box;min-width:0;display:none;position:absolute;top:calc(100% + 15px);left:30px;}@media screen and (max-width:57.5em){.css-1s0wdqz{display:block;}}</style><div class="css-1s0wdqz"><style data-emotion-css="4019lz">.css-4019lz{padding:0;outline:none;background:transparent;border:none;color:var(--theme-ui-colors-header-text,#2D3747);opacity:0.5;cursor:pointer;}.css-4019lz:hover{cursor:pointer;}</style><button class="css-4019lz"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></button></div><style data-emotion-css="z6jak6">.css-z6jak6{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;padding-left:32px;padding-right:32px;position:relative;height:80px;}</style><div class="css-z6jak6"><style data-emotion-css="xenp3v">.css-xenp3v{-webkit-letter-spacing:-0.02em;-moz-letter-spacing:-0.02em;-ms-letter-spacing:-0.02em;letter-spacing:-0.02em;font-weight:600;font-size:24px;}</style><style data-emotion-css="1abzlu">.css-1abzlu{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-letter-spacing:-0.02em;-moz-letter-spacing:-0.02em;-ms-letter-spacing:-0.02em;letter-spacing:-0.02em;font-weight:600;font-size:24px;}</style><style data-emotion-css="ug0363">.css-ug0363{box-sizing:border-box;min-width:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-letter-spacing:-0.02em;-moz-letter-spacing:-0.02em;-ms-letter-spacing:-0.02em;letter-spacing:-0.02em;font-weight:600;font-size:24px;}</style><div data-testid="logo" class="css-ug0363"><style data-emotion-css="gyijir">.css-gyijir{font-weight:600;color:var(--theme-ui-colors-header-text,#2D3747);-webkit-text-decoration:none;text-decoration:none;}.css-gyijir:hover{color:var(--theme-ui-colors-primary,#0B5FFF);}</style><a class="css-gyijir" href="/">Travis Med AI</a></div><style data-emotion-css="k008qs">.css-k008qs{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}</style><style data-emotion-css="80zs6q">.css-80zs6q{box-sizing:border-box;min-width:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}</style><div class="css-80zs6q"><div style="mb:3px;display:inline-flex;align-items:center"><form class="sc-bxivhb UOiEL"><input type="text" placeholder="Search" aria-label="Search" class="sc-htpNat bTSnEl"/><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="sc-bwzfXH ipFkod"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg></form><div class="sc-ifAKCX fXyLmv"><header><h3>docz algolia example</h3></header>No results for &#x27;undefined&#x27;<span class="sc-EHOje bTDrIF">Powered by<!-- --> <a href="https://algolia.com"><svg viewBox="0 0 448 512" height="1em" width="1em" aria-hidden="true" focusable="false" fill="currentColor" xmlns="http://www.w3.org/2000/svg" class="StyledIconBase-ea9ulj-0 iLHuDN"><path fill="currentColor" d="M229.3 182.6c-49.3 0-89.2 39.9-89.2 89.2 0 49.3 39.9 89.2 89.2 89.2s89.2-39.9 89.2-89.2c0-49.3-40-89.2-89.2-89.2zm62.7 56.6l-58.9 30.6c-1.8.9-3.8-.4-3.8-2.3V201c0-1.5 1.3-2.7 2.7-2.6 26.2 1 48.9 15.7 61.1 37.1.7 1.3.2 3-1.1 3.7zM389.1 32H58.9C26.4 32 0 58.4 0 90.9V421c0 32.6 26.4 59 58.9 59H389c32.6 0 58.9-26.4 58.9-58.9V90.9C448 58.4 421.6 32 389.1 32zm-202.6 84.7c0-10.8 8.7-19.5 19.5-19.5h45.3c10.8 0 19.5 8.7 19.5 19.5v15.4c0 1.8-1.7 3-3.3 2.5-12.3-3.4-25.1-5.1-38.1-5.1-13.5 0-26.7 1.8-39.4 5.5-1.7.5-3.4-.8-3.4-2.5v-15.8zm-84.4 37l9.2-9.2c7.6-7.6 19.9-7.6 27.5 0l7.7 7.7c1.1 1.1 1 3-.3 4-6.2 4.5-12.1 9.4-17.6 14.9-5.4 5.4-10.4 11.3-14.8 17.4-1 1.3-2.9 1.5-4 .3l-7.7-7.7c-7.6-7.5-7.6-19.8 0-27.4zm127.2 244.8c-70 0-126.6-56.7-126.6-126.6s56.7-126.6 126.6-126.6c70 0 126.6 56.6 126.6 126.6 0 69.8-56.7 126.6-126.6 126.6z"></path></svg> Algolia</a></span></div></div><style data-emotion-css="12z0wuy">.css-12z0wuy{margin-right:8px;}</style><style data-emotion-css="q6cf68">.css-q6cf68{box-sizing:border-box;min-width:0;margin-right:8px;}</style><div class="css-q6cf68"><style data-emotion-css="1is33jg">.css-1is33jg{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:12px;border:none;border-radius:9999px;background-color:var(--theme-ui-colors-header-button-bg,#0B5FFF);color:var(--theme-ui-colors-header-button-color,#FFFFFF);font-size:12px;font-weight:600;cursor:pointer;}</style><a href="https://github.com/Travis-Med-AI/travis-med-ai.github.io" target="_blank" rel="noopener noreferrer" class="css-1is33jg"><svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg></a></div></div><style data-emotion-css="1gncnz1">.css-1gncnz1{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;position:absolute;bottom:-40px;right:30px;background-color:transparent;color:var(--theme-ui-colors-muted,#67788a);font-size:14px;-webkit-text-decoration:none;text-decoration:none;border-radius:4px;}</style><a href="https://github.com/Travis-Med-AI/travis-med-ai.github.io/edit/master/src/Contributing/contributing-models.mdx" target="_blank" rel="noopener noreferrer" class="css-1gncnz1"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"></path></svg><style data-emotion-css="1iuj5ih">.css-1iuj5ih{padding-left:8px;}</style><style data-emotion-css="1x2jprh">.css-1x2jprh{box-sizing:border-box;min-width:0;padding-left:8px;}</style><div class="css-1x2jprh">Edit page</div></a></div></div><style data-emotion-css="1nfi0ai">.css-1nfi0ai{padding-top:0;padding-bottom:0;-webkit-flex:1;-ms-flex:1;flex:1;display:grid;grid-template-columns:250px minmax(0,1fr);min-height:100vh;}@media screen and (max-width:57.5em){.css-1nfi0ai{display:block;}}</style><div class="css-1nfi0ai"><style data-emotion-css="1tn7q1x">.css-1tn7q1x{z-index:999;position:fixed;top:81px;right:0;bottom:0;left:0;background:rgba(0,0,0,0.6);-webkit-transition:all .2s ease-out;transition:all .2s ease-out;visibility:hidden;opacity:0;}</style><style data-emotion-css="h4snl3">.css-h4snl3{box-sizing:border-box;min-width:0;z-index:999;position:fixed;top:81px;right:0;bottom:0;left:0;background:rgba(0,0,0,0.6);-webkit-transition:all .2s ease-out;transition:all .2s ease-out;visibility:hidden;opacity:0;}</style><div class="css-h4snl3"></div><style data-emotion-css="1ethd5x">.css-1ethd5x{padding-top:32px;padding-bottom:32px;padding-left:32px;padding-right:32px;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;position:-webkit-sticky;position:sticky;top:0;z-index:1;min-width:0;max-height:100vh;border-right:1px solid var(--theme-ui-colors-border,#CED4DE);overflow:auto;-webkit-overflow-scrolling:touch;background-color:var(--theme-ui-colors-sidebar-bg,#FFFFFF);}@media screen and (max-width:57.5em){.css-1ethd5x{z-index:9999;display:block;position:fixed;top:81px;left:0;bottom:0;width:256px;padding-left:32px;padding-right:32px;background-color:var(--theme-ui-colors-background,#FFFFFF);-webkit-transition:-webkit-transform .2s ease-out;-webkit-transition:transform .2s ease-out;transition:transform .2s ease-out;-webkit-transform:translateX(-100%);-ms-transform:translateX(-100%);transform:translateX(-100%);}}</style><style data-emotion-css="1li9yso">.css-1li9yso{box-sizing:border-box;min-width:0;padding-top:32px;padding-bottom:32px;padding-left:32px;padding-right:32px;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;position:-webkit-sticky;position:sticky;top:0;z-index:1;min-width:0;max-height:100vh;border-right:1px solid var(--theme-ui-colors-border,#CED4DE);overflow:auto;-webkit-overflow-scrolling:touch;background-color:var(--theme-ui-colors-sidebar-bg,#FFFFFF);}@media screen and (max-width:57.5em){.css-1li9yso{z-index:9999;display:block;position:fixed;top:81px;left:0;bottom:0;width:256px;padding-left:32px;padding-right:32px;background-color:var(--theme-ui-colors-background,#FFFFFF);-webkit-transition:-webkit-transform .2s ease-out;-webkit-transition:transform .2s ease-out;transition:transform .2s ease-out;-webkit-transform:translateX(-100%);-ms-transform:translateX(-100%);transform:translateX(-100%);}}</style><div data-testid="sidebar" class="css-1li9yso"><style data-emotion-css="lcm9hh">.css-lcm9hh{margin-bottom:16px;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}</style><div data-testid="nav-search" class="css-lcm9hh"><style data-emotion-css="1mo6uhh">.css-1mo6uhh{color:var(--theme-ui-colors-border,#CED4DE);margin-right:8px;}</style><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="css-1mo6uhh"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg><style data-emotion-css="1bbueiu">.css-1bbueiu{outline:none;background:none;border:none;color:var(--theme-ui-colors-text,#2D3747);font-size:14px;}</style><input placeholder="Type to search..." value="" class="css-1bbueiu"/></div><style data-emotion-css="1rqvyud">.css-1rqvyud{margin-top:8px;margin-bottom:8px;display:block;color:var(--theme-ui-colors-sidebar-navGroup,#2D3747);-webkit-text-decoration:none;text-decoration:none;font-size:16px;}.css-1rqvyud.active{color:var(--theme-ui-colors-sidebar-navLinkActive,#0B5FFF);}</style><a class="css-1rqvyud" href="/">1. Introduction</a><style data-emotion-css="1ebprri">.css-1ebprri{margin-top:16px;margin-bottom:16px;}</style><div data-testid="nav-group" class="css-1ebprri"><style data-emotion-css="1c8kbwa">.css-1c8kbwa{margin-bottom:4px;font-size:16px;font-weight:500;color:var(--theme-ui-colors-sidebar-navGroup,#2D3747);cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}</style><div class="css-1c8kbwa">2. Getting Started<style data-emotion-css="cu2sly">.css-cu2sly{margin-left:4px;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-align-self:baseline;-ms-flex-item-align:baseline;align-self:baseline;-webkit-transform:rotateX(0deg);-ms-transform:rotateX(0deg);transform:rotateX(0deg);-webkit-transform-origin:center;-ms-transform-origin:center;transform-origin:center;-webkit-transition:-webkit-transform .3s ease-in-out;-webkit-transition:transform .3s ease-in-out;transition:transform .3s ease-in-out;}</style><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="css-cu2sly"><polyline points="6 9 12 15 18 9"></polyline></svg></div><style data-emotion-css="1isemmb">.css-1isemmb{margin-left:8px;}</style><div data-testid="nav-group-links" class="css-1isemmb"></div></div><a class="css-1rqvyud" href="/models">3. Models</a><div data-testid="nav-group" class="css-1ebprri"><div class="css-1c8kbwa">4. Contributing<style data-emotion-css="1scp5x8">.css-1scp5x8{margin-left:4px;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-align-self:baseline;-ms-flex-item-align:baseline;align-self:baseline;-webkit-transform:rotateX(180deg);-ms-transform:rotateX(180deg);transform:rotateX(180deg);-webkit-transform-origin:center;-ms-transform-origin:center;transform-origin:center;-webkit-transition:-webkit-transform .3s ease-in-out;-webkit-transition:transform .3s ease-in-out;transition:transform .3s ease-in-out;}</style><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="css-1scp5x8"><polyline points="6 9 12 15 18 9"></polyline></svg></div><div data-testid="nav-group-links" class="css-1isemmb"><a class="css-1rqvyud" href="/contributing/how-to-contribute">a) How To Contribute</a><a aria-current="page" class="css-1rqvyud active" href="/contributing/contributing-models">b) Contributing Models</a><style data-emotion-css="1ooej63">.css-1ooej63{margin-top:8px;margin-bottom:8px;display:block;color:var(--theme-ui-colors-sidebar-tocLink,#67788a);-webkit-text-decoration:none;text-decoration:none;font-size:14px;margin-left:16px;position:relative;}.css-1ooej63.active{color:var(--theme-ui-colors-sidebar-tocLinkActive,#1D2330);}.css-1ooej63.active::before{content:"";position:absolute;display:block;top:2px;left:-8px;height:1rem;background-color:var(--theme-ui-colors-primary,#0B5FFF);-webkit-transition:width 200ms ease 0s;transition:width 200ms ease 0s;width:2px;border-radius:1px;}</style><a class=" css-1ooej63" href="/contributing/contributing-models#manifest-properties">Manifest Properties</a><a class=" css-1ooej63" href="/contributing/contributing-models#example-manifest">Example Manifest</a><a class=" css-1ooej63" href="/contributing/contributing-models#enums">Enums</a><a class=" css-1ooej63" href="/contributing/contributing-models#building-a-model">Building a model</a></div></div></div><style data-emotion-css="1w3d2mg">.css-1w3d2mg{background-color:var(--theme-ui-colors-background,#FFFFFF);position:relative;max-width:1280px;padding-top:48px;padding-bottom:48px;padding-left:32px;padding-right:32px;padding:32px;}@media screen and (max-width:57.5em){.css-1w3d2mg{padding-top:48px;padding-bottom:32px;padding-left:32px;padding-right:32px;}}</style><style data-emotion-css="kjtkh5">.css-kjtkh5{width:100%;min-width:0;max-width:1280px;margin-left:auto;margin-right:auto;padding:32px;background-color:var(--theme-ui-colors-background,#FFFFFF);position:relative;max-width:1280px;padding-top:48px;padding-bottom:48px;padding-left:32px;padding-right:32px;padding:32px;}@media screen and (max-width:57.5em){.css-kjtkh5{padding-top:48px;padding-bottom:32px;padding-left:32px;padding-right:32px;}}</style><style data-emotion-css="1307vk3">.css-1307vk3{box-sizing:border-box;min-width:0;width:100%;min-width:0;max-width:1280px;margin-left:auto;margin-right:auto;padding:32px;background-color:var(--theme-ui-colors-background,#FFFFFF);position:relative;max-width:1280px;padding-top:48px;padding-bottom:48px;padding-left:32px;padding-right:32px;padding:32px;}@media screen and (max-width:57.5em){.css-1307vk3{padding-top:48px;padding-bottom:32px;padding-left:32px;padding-right:32px;}}</style><div data-testid="main-container" class="css-1307vk3"><style data-emotion-css="1vci3bl">.css-1vci3bl{padding:0;margin:0;margin-bottom:16px;font-size:48px;font-family:'Source Sans Pro',sans-serif;line-height:1.125;font-weight:700;}</style><h1 id="contributing-models" class="css-1vci3bl">Contributing Models</h1><style data-emotion-css="1ftn47p">.css-1ftn47p{padding:0;margin:0;margin-bottom:16px;}</style><p class="css-1ftn47p">New models can be added to travis med ai by submitting a pull request to our <style data-emotion-css="1iv9jyz">.css-1iv9jyz{color:var(--theme-ui-colors-primary,#0B5FFF);-webkit-text-decoration:none;text-decoration:none;}.css-1iv9jyz:hover{color:secondary;-webkit-text-decoration:underline;text-decoration:underline;}</style><a href="https://github.com/Travis-Med-AI/model-registry" class="css-1iv9jyz">models-repository</a> in the following format:</p><div><style data-emotion-css="1h0sj8d">.css-1h0sj8d{padding:16px;margin:0;margin-bottom:32px;font-size:85%;margin-top:32px;text-align:left;font-family:Inconsolata;border-radius:4px;}.css-1h0sj8d dark{[object Object];}.css-1h0sj8d light{[object Object];}</style><pre class=" prism-code language-text css-1h0sj8d" style="font-family:Inconsolata;color:#393A34;background-color:#f6f8fa;overflow-x:auto" data-testid="code"><div class="token-line" style="font-family:Inconsolata;color:#393A34"><style data-emotion-css="1baulvz">.css-1baulvz{display:inline-block;}</style><span class="token plain css-1baulvz">model-title/</span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">    manifest.json</span></div></pre></div><p class="css-1ftn47p">At travis med ai, all models are hosted on <a href="https://hub.docker.com/" class="css-1iv9jyz">dockerhub</a> as docker images.
Your manifest.json file will contain all pertinent information for integrating your model into our system (i.e. location of the docker image, display name, etc.). More information on how to structure a manifest.json file is <a href="#manifest-properties" class="css-1iv9jyz">below</a></p><h2 id="manifest-properties"><style data-emotion-css="1r0pe6c">.css-1r0pe6c{color:inherit;-webkit-text-decoration:none;text-decoration:none;}.css-1r0pe6c:hover{-webkit-text-decoration:underline;text-decoration:underline;}</style><a href="#manifest-properties" class="css-1r0pe6c">Manifest Properties</a></h2><p class="css-1ftn47p">Your manifest should contain the following information:</p><div class="MuiPaper-root MuiTableContainer-root jss1 MuiPaper-elevation1 MuiPaper-rounded"><table class="MuiTable-root"><thead class="MuiTableHead-root"><tr class="MuiTableRow-root MuiTableRow-head"><th class="MuiTableCell-root MuiTableCell-head jss2" scope="col">variable</th><th class="MuiTableCell-root MuiTableCell-head jss2" scope="col">Type</th><th class="MuiTableCell-root MuiTableCell-head jss2" scope="col">Description</th><th class="MuiTableCell-root MuiTableCell-head jss2" scope="col">Required?</th></tr></thead><tbody class="MuiTableBody-root"><tr class="MuiTableRow-root"><td class="MuiTableCell-root MuiTableCell-body jss3">tag</td><td class="MuiTableCell-root MuiTableCell-body jss3">String</td><td class="MuiTableCell-root MuiTableCell-body jss3">The tag name of your docker image repository</td><td class="MuiTableCell-root MuiTableCell-body jss3"><svg viewBox="0 0 16 16" height="15" width="15" aria-hidden="true" focusable="false" fill="currentColor" xmlns="http://www.w3.org/2000/svg" class="StyledIconBase-ea9ulj-0 iLHuDN"><path fill-rule="evenodd" d="M10.97 4.97a.75.75 0 011.071 1.05l-3.992 4.99a.75.75 0 01-1.08.02L4.324 8.384a.75.75 0 111.06-1.06l2.094 2.093 3.473-4.425a.236.236 0 01.02-.022z"></path></svg></td></tr><tr class="MuiTableRow-root"><td class="MuiTableCell-root MuiTableCell-body jss3">displayName</td><td class="MuiTableCell-root MuiTableCell-body jss3">String</td><td class="MuiTableCell-root MuiTableCell-body jss3">The name of your model that will be displayed in travis-med-ai.</td><td class="MuiTableCell-root MuiTableCell-body jss3"><svg viewBox="0 0 16 16" height="15" width="15" aria-hidden="true" focusable="false" fill="currentColor" xmlns="http://www.w3.org/2000/svg" class="StyledIconBase-ea9ulj-0 iLHuDN"><path fill-rule="evenodd" d="M10.97 4.97a.75.75 0 011.071 1.05l-3.992 4.99a.75.75 0 01-1.08.02L4.324 8.384a.75.75 0 111.06-1.06l2.094 2.093 3.473-4.425a.236.236 0 01.02-.022z"></path></svg></td></tr><tr class="MuiTableRow-root"><td class="MuiTableCell-root MuiTableCell-body jss3">input</td><td class="MuiTableCell-root MuiTableCell-body jss3"><a href="#StudyType">StudyType</a></td><td class="MuiTableCell-root MuiTableCell-body jss3">TODO<div> <!-- -->See<!-- --> <a href="#StudyType">StudyType</a> <!-- -->below.</div></td><td class="MuiTableCell-root MuiTableCell-body jss3"><svg viewBox="0 0 16 16" height="15" width="15" aria-hidden="true" focusable="false" fill="currentColor" xmlns="http://www.w3.org/2000/svg" class="StyledIconBase-ea9ulj-0 iLHuDN"><path fill-rule="evenodd" d="M10.97 4.97a.75.75 0 011.071 1.05l-3.992 4.99a.75.75 0 01-1.08.02L4.324 8.384a.75.75 0 111.06-1.06l2.094 2.093 3.473-4.425a.236.236 0 01.02-.022z"></path></svg></td></tr><tr class="MuiTableRow-root"><td class="MuiTableCell-root MuiTableCell-body jss3">modality</td><td class="MuiTableCell-root MuiTableCell-body jss3"><a href="#Modality">Modality</a></td><td class="MuiTableCell-root MuiTableCell-body jss3">TODO<div> <!-- -->See<!-- --> <a href="#Modality">Modality</a> <!-- -->below.</div></td><td class="MuiTableCell-root MuiTableCell-body jss3"><svg viewBox="0 0 16 16" height="15" width="15" aria-hidden="true" focusable="false" fill="currentColor" xmlns="http://www.w3.org/2000/svg" class="StyledIconBase-ea9ulj-0 iLHuDN"><path fill-rule="evenodd" d="M10.97 4.97a.75.75 0 011.071 1.05l-3.992 4.99a.75.75 0 01-1.08.02L4.324 8.384a.75.75 0 111.06-1.06l2.094 2.093 3.473-4.425a.236.236 0 01.02-.022z"></path></svg></td></tr><tr class="MuiTableRow-root"><td class="MuiTableCell-root MuiTableCell-body jss3">inputType</td><td class="MuiTableCell-root MuiTableCell-body jss3"><a href="#ModelInputs">ModelInputs</a></td><td class="MuiTableCell-root MuiTableCell-body jss3">The image file format that your model accepts.<div> <!-- -->See<!-- --> <a href="#ModelInputs">ModelInputs</a> <!-- -->below.</div></td><td class="MuiTableCell-root MuiTableCell-body jss3"><svg viewBox="0 0 16 16" height="15" width="15" aria-hidden="true" focusable="false" fill="currentColor" xmlns="http://www.w3.org/2000/svg" class="StyledIconBase-ea9ulj-0 iLHuDN"><path fill-rule="evenodd" d="M10.97 4.97a.75.75 0 011.071 1.05l-3.992 4.99a.75.75 0 01-1.08.02L4.324 8.384a.75.75 0 111.06-1.06l2.094 2.093 3.473-4.425a.236.236 0 01.02-.022z"></path></svg></td></tr><tr class="MuiTableRow-root"><td class="MuiTableCell-root MuiTableCell-body jss3">outputType</td><td class="MuiTableCell-root MuiTableCell-body jss3"><a href="#ModelOutputs">ModelOutputs</a></td><td class="MuiTableCell-root MuiTableCell-body jss3">The output format of your file.<div> <!-- -->See<!-- --> <a href="#ModelOutputs">ModelOutputs</a> <!-- -->below.</div></td><td class="MuiTableCell-root MuiTableCell-body jss3"><svg viewBox="0 0 16 16" height="15" width="15" aria-hidden="true" focusable="false" fill="currentColor" xmlns="http://www.w3.org/2000/svg" class="StyledIconBase-ea9ulj-0 iLHuDN"><path fill-rule="evenodd" d="M10.97 4.97a.75.75 0 011.071 1.05l-3.992 4.99a.75.75 0 01-1.08.02L4.324 8.384a.75.75 0 111.06-1.06l2.094 2.093 3.473-4.425a.236.236 0 01.02-.022z"></path></svg></td></tr><tr class="MuiTableRow-root"><td class="MuiTableCell-root MuiTableCell-body jss3">hasImageOutput</td><td class="MuiTableCell-root MuiTableCell-body jss3">boolean</td><td class="MuiTableCell-root MuiTableCell-body jss3">Specifies whether your model outputs a masked image after finishing image processing.</td><td class="MuiTableCell-root MuiTableCell-body jss3"><svg viewBox="0 0 16 16" height="15" width="15" aria-hidden="true" focusable="false" fill="currentColor" xmlns="http://www.w3.org/2000/svg" class="StyledIconBase-ea9ulj-0 iLHuDN"><path fill-rule="evenodd" d="M10.97 4.97a.75.75 0 011.071 1.05l-3.992 4.99a.75.75 0 01-1.08.02L4.324 8.384a.75.75 0 111.06-1.06l2.094 2.093 3.473-4.425a.236.236 0 01.02-.022z"></path></svg></td></tr></tbody></table></div><h2 id="example-manifest"><a href="#example-manifest" class="css-1r0pe6c">Example Manifest</a></h2><p class="css-1ftn47p">The following is an example of a completed manifest:</p><div><pre class="language-json prism-code language-json css-1h0sj8d" style="font-family:Inconsolata;color:#393A34;background-color:#f6f8fa;overflow-x:auto" data-testid="code"><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token comment css-1baulvz" style="color:#999988;font-style:italic">// manifest.json</span><span class="token plain css-1baulvz"></span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz"></span><span class="token punctuation css-1baulvz" style="color:#393A34">{</span><span class="token plain css-1baulvz"></span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">  </span><span class="token property css-1baulvz" style="color:#36acaa">&quot;tag&quot;</span><span class="token operator css-1baulvz" style="color:#393A34">:</span><span class="token plain css-1baulvz"> </span><span class="token string css-1baulvz" style="color:#e3116c">&quot;tclarke104/ich-model:0.1&quot;</span><span class="token punctuation css-1baulvz" style="color:#393A34">,</span><span class="token plain css-1baulvz"></span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">  </span><span class="token property css-1baulvz" style="color:#36acaa">&quot;displayName&quot;</span><span class="token operator css-1baulvz" style="color:#393A34">:</span><span class="token plain css-1baulvz"> </span><span class="token string css-1baulvz" style="color:#e3116c">&quot;Intracranial Hemorrhage Detection&quot;</span><span class="token punctuation css-1baulvz" style="color:#393A34">,</span><span class="token plain css-1baulvz"></span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">  </span><span class="token property css-1baulvz" style="color:#36acaa">&quot;input&quot;</span><span class="token operator css-1baulvz" style="color:#393A34">:</span><span class="token plain css-1baulvz"> </span><span class="token string css-1baulvz" style="color:#e3116c">&quot;CT&quot;</span><span class="token punctuation css-1baulvz" style="color:#393A34">,</span><span class="token plain css-1baulvz"></span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">  </span><span class="token property css-1baulvz" style="color:#36acaa">&quot;modality&quot;</span><span class="token operator css-1baulvz" style="color:#393A34">:</span><span class="token plain css-1baulvz"> </span><span class="token string css-1baulvz" style="color:#e3116c">&quot;CT&quot;</span><span class="token punctuation css-1baulvz" style="color:#393A34">,</span><span class="token plain css-1baulvz"></span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">  </span><span class="token property css-1baulvz" style="color:#36acaa">&quot;inputType&quot;</span><span class="token operator css-1baulvz" style="color:#393A34">:</span><span class="token plain css-1baulvz"> </span><span class="token string css-1baulvz" style="color:#e3116c">&quot;DICOM&quot;</span><span class="token punctuation css-1baulvz" style="color:#393A34">,</span><span class="token plain css-1baulvz"></span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">  </span><span class="token property css-1baulvz" style="color:#36acaa">&quot;output&quot;</span><span class="token operator css-1baulvz" style="color:#393A34">:</span><span class="token plain css-1baulvz"> </span><span class="token string css-1baulvz" style="color:#e3116c">&quot;Class_Probabilities&quot;</span><span class="token punctuation css-1baulvz" style="color:#393A34">,</span><span class="token plain css-1baulvz"></span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">  </span><span class="token property css-1baulvz" style="color:#36acaa">&quot;hasImageOutput&quot;</span><span class="token operator css-1baulvz" style="color:#393A34">:</span><span class="token plain css-1baulvz"> </span><span class="token boolean css-1baulvz" style="color:#36acaa">false</span><span class="token plain css-1baulvz"></span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz"></span><span class="token punctuation css-1baulvz" style="color:#393A34">}</span></div></pre></div><h2 id="enums"><a href="#enums" class="css-1r0pe6c">Enums</a></h2><h3><a id="StudyType">StudyType</a></h3><p>TODO</p><div class="MuiPaper-root MuiTableContainer-root MuiPaper-elevation1 MuiPaper-rounded"><table class="MuiTable-root"><thead class="MuiTableHead-root"><tr class="MuiTableRow-root MuiTableRow-head"><th class="MuiTableCell-root MuiTableCell-head jss2 MuiTableCell-sizeSmall" scope="col">Enum Value</th><th class="MuiTableCell-root MuiTableCell-head jss2 MuiTableCell-sizeSmall" scope="col">Description</th></tr></thead><tbody class="MuiTableBody-root"><tr class="MuiTableRow-root"><td class="MuiTableCell-root MuiTableCell-body jss3 MuiTableCell-sizeSmall">CT</td><td class="MuiTableCell-root MuiTableCell-body jss3 MuiTableCell-sizeSmall">CT Scan</td></tr><tr class="MuiTableRow-root"><td class="MuiTableCell-root MuiTableCell-body jss3 MuiTableCell-sizeSmall">Abd_Xray</td><td class="MuiTableCell-root MuiTableCell-body jss3 MuiTableCell-sizeSmall">Abdominal Xray</td></tr><tr class="MuiTableRow-root"><td class="MuiTableCell-root MuiTableCell-body jss3 MuiTableCell-sizeSmall">Dicom</td><td class="MuiTableCell-root MuiTableCell-body jss3 MuiTableCell-sizeSmall">DICOM</td></tr><tr class="MuiTableRow-root"><td class="MuiTableCell-root MuiTableCell-body jss3 MuiTableCell-sizeSmall">Frontal_CXR</td><td class="MuiTableCell-root MuiTableCell-body jss3 MuiTableCell-sizeSmall">Frontal Chest Xray</td></tr><tr class="MuiTableRow-root"><td class="MuiTableCell-root MuiTableCell-body jss3 MuiTableCell-sizeSmall">Head_CT</td><td class="MuiTableCell-root MuiTableCell-body jss3 MuiTableCell-sizeSmall">Head CT Scan</td></tr><tr class="MuiTableRow-root"><td class="MuiTableCell-root MuiTableCell-body jss3 MuiTableCell-sizeSmall">Lateral_CXR</td><td class="MuiTableCell-root MuiTableCell-body jss3 MuiTableCell-sizeSmall">Lateral Chest Xray</td></tr><tr class="MuiTableRow-root"><td class="MuiTableCell-root MuiTableCell-body jss3 MuiTableCell-sizeSmall">MSK_Xray</td><td class="MuiTableCell-root MuiTableCell-body jss3 MuiTableCell-sizeSmall">Musculoskeletal Chest Xray</td></tr></tbody></table></div><h3><a id="Modality">Modality</a></h3><p>Describes the imaging modality that the model accepts.</p><div class="MuiPaper-root MuiTableContainer-root MuiPaper-elevation1 MuiPaper-rounded"><table class="MuiTable-root"><thead class="MuiTableHead-root"><tr class="MuiTableRow-root MuiTableRow-head"><th class="MuiTableCell-root MuiTableCell-head jss2 MuiTableCell-sizeSmall" scope="col">Enum Value</th><th class="MuiTableCell-root MuiTableCell-head jss2 MuiTableCell-sizeSmall" scope="col">Description</th></tr></thead><tbody class="MuiTableBody-root"><tr class="MuiTableRow-root"><td class="MuiTableCell-root MuiTableCell-body jss3 MuiTableCell-sizeSmall">CT</td><td class="MuiTableCell-root MuiTableCell-body jss3 MuiTableCell-sizeSmall">CT Scan</td></tr><tr class="MuiTableRow-root"><td class="MuiTableCell-root MuiTableCell-body jss3 MuiTableCell-sizeSmall">CR</td><td class="MuiTableCell-root MuiTableCell-body jss3 MuiTableCell-sizeSmall">Chest XRAY</td></tr></tbody></table></div><h3><a id="ModelInputs">ModelInputs</a></h3><p>The file format that the model takes as an input.</p><div class="MuiPaper-root MuiTableContainer-root MuiPaper-elevation1 MuiPaper-rounded"><table class="MuiTable-root"><thead class="MuiTableHead-root"><tr class="MuiTableRow-root MuiTableRow-head"><th class="MuiTableCell-root MuiTableCell-head jss2 MuiTableCell-sizeSmall" scope="col">Enum Value</th><th class="MuiTableCell-root MuiTableCell-head jss2 MuiTableCell-sizeSmall" scope="col">Description</th></tr></thead><tbody class="MuiTableBody-root"><tr class="MuiTableRow-root"><td class="MuiTableCell-root MuiTableCell-body jss3 MuiTableCell-sizeSmall">DICOM</td><td class="MuiTableCell-root MuiTableCell-body jss3 MuiTableCell-sizeSmall">.dicom file format.</td></tr><tr class="MuiTableRow-root"><td class="MuiTableCell-root MuiTableCell-body jss3 MuiTableCell-sizeSmall">PNG</td><td class="MuiTableCell-root MuiTableCell-body jss3 MuiTableCell-sizeSmall">.png file format.</td></tr></tbody></table></div><h3><a id="ModelOutputs">ModelOutputs</a></h3><p>The data format that should be expected as an output from the scan model.</p><div class="MuiPaper-root MuiTableContainer-root MuiPaper-elevation1 MuiPaper-rounded"><table class="MuiTable-root"><thead class="MuiTableHead-root"><tr class="MuiTableRow-root MuiTableRow-head"><th class="MuiTableCell-root MuiTableCell-head jss2 MuiTableCell-sizeSmall" scope="col">Enum Value</th><th class="MuiTableCell-root MuiTableCell-head jss2 MuiTableCell-sizeSmall" scope="col">Description</th></tr></thead><tbody class="MuiTableBody-root"><tr class="MuiTableRow-root"><td class="MuiTableCell-root MuiTableCell-body jss3 MuiTableCell-sizeSmall">Class_Probabilities</td><td class="MuiTableCell-root MuiTableCell-body jss3 MuiTableCell-sizeSmall">TODO</td></tr><tr class="MuiTableRow-root"><td class="MuiTableCell-root MuiTableCell-body jss3 MuiTableCell-sizeSmall">Mask</td><td class="MuiTableCell-root MuiTableCell-body jss3 MuiTableCell-sizeSmall">TODO</td></tr><tr class="MuiTableRow-root"><td class="MuiTableCell-root MuiTableCell-body jss3 MuiTableCell-sizeSmall">Study_Type</td><td class="MuiTableCell-root MuiTableCell-body jss3 MuiTableCell-sizeSmall">TODO</td></tr></tbody></table></div><h2 id="building-a-model"><a href="#building-a-model" class="css-1r0pe6c">Building a model</a></h2><p class="css-1ftn47p">Building a model is simple! Because docker package all of your dependencies, converting your existing model requires just a few steps.</p><h3 id="the-dockerfile"><a href="#the-dockerfile" class="css-1r0pe6c">The Dockerfile</a></h3><p class="css-1ftn47p">The dockerfile is located at the root of the project and contains the image build commands</p><style data-emotion-css="cvh4i0">.css-cvh4i0{padding:0;margin:0;margin-bottom:16px;list-style-position:outside;list-style-image:none;margin-left:16px;}</style><ul class="css-cvh4i0"><style data-emotion-css="q43a5f">.css-q43a5f{margin-bottom:4px;padding-left:0;}.css-q43a5f ol{margin-top:8px;margin-bottom:8px;margin-left:16px;}.css-q43a5f ul{margin-top:8px;margin-bottom:8px;margin-left:16px;}.css-q43a5f p{margin-bottom:8px;}</style><li class="css-q43a5f">The dockerfile for a model can be organized into 3 sections.</li></ul><ol class="css-cvh4i0"><li class="css-q43a5f">The FROM imports</li></ol><ul class="css-cvh4i0"><li class="css-q43a5f">This section must include the following line</li><li class="css-q43a5f"><style data-emotion-css="ueqitl">.css-ueqitl{font-family:Inconsolata;}</style><code class="css-ueqitl">FROM tclarke104/ai-model-base:0.1 as model</code></li></ul><ol start="2" class="css-cvh4i0"><li class="css-q43a5f">Your custom build commands</li></ol><ul class="css-cvh4i0"><li class="css-q43a5f">This section is where you do any COPY or RUN commands that are required for building your project.</li></ul><ol start="3" class="css-cvh4i0"><li class="css-q43a5f">The AI build commands</li></ol><ul class="css-cvh4i0"><li class="css-q43a5f">This section should not be edited and contains the following</li></ul><div><pre class=" prism-code language-text css-1h0sj8d" style="font-family:Inconsolata;color:#393A34;background-color:#f6f8fa;overflow-x:auto" data-testid="code"><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz"># DONT EDIT THIS SECTION</span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">RUN pip install redis</span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">COPY --from=model /opt/runner /opt</span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">WORKDIR /opt</span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">ADD . /opt/</span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">CMD python runner.py</span></div></pre></div><ul class="css-cvh4i0"><li class="css-q43a5f">This installs redis, copies the required files from the base image, and adds your source gcdoe to the docker image</li></ul><p class="css-1ftn47p">An example Dockerfile is below:</p><div><pre class=" prism-code language-text css-1h0sj8d" style="font-family:Inconsolata;color:#393A34;background-color:#f6f8fa;overflow-x:auto" data-testid="code"><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">FROM tclarke104/ai-model-base:0.1 as model</span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">FROM tensorflow/tensorflow:2.0.0-gpu-py3</span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz" style="display:inline-block"></span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz"># Install dependencies</span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">RUN pip install pydicom scikit-image medaimodels</span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz" style="display:inline-block"></span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz"># DONT EDIT THIS SECTION</span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz"># add current directory to container</span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">RUN pip install redis</span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">COPY --from=model /opt/runner /opt</span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">WORKDIR /opt</span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">ADD . /opt/</span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">CMD python runner.py</span></div></pre></div><h3 id="mainpy"><a href="#mainpy" class="css-1r0pe6c">main.py</a></h3><ul class="css-cvh4i0"><li class="css-q43a5f">All models must have a main.py file in the root of the project.</li><li class="css-q43a5f">Must have a function called <code class="css-ueqitl">evaluate_model</code> that takes a single parameter of type List<!-- -->[str]<ul class="css-cvh4i0"><li class="css-q43a5f">The parameter is a list of paths to the locations of the DICOMDIR directories on the filesystem</li></ul></li></ul><p class="css-1ftn47p">Example main.py</p><div><pre class=" prism-code language-text css-1h0sj8d" style="font-family:Inconsolata;color:#393A34;background-color:#f6f8fa;overflow-x:auto" data-testid="code"><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">from tensorflow.keras.models import load_model</span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">from medaimodels import ModelOutput</span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">import numpy as np</span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz" style="display:inline-block"></span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">def evaluate(img):</span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">    CATEGORIES = [&quot;Abd_Xray&quot;, &quot;Frontal_CXR&quot;, &quot;Lateral_CXR&quot;, &quot;MSK_Xray&quot;]</span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">    model = load_model(&#x27;{path_to_saved_model}&#x27;)</span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz" style="display:inline-block"></span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">    scores = model.predict(img)</span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">    output = [ModelOutput(display=CATEGORIES[np.argmax(score)]) for score in scores]</span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz" style="display:inline-block"></span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">    return output</span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz" style="display:inline-block"></span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">def evaluate_model(files):</span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">    # calls custom preprocess function that loads images and does preprocessing</span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">    preprocessed = preprocess(files)</span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz" style="display:inline-block"></span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">    study_type = evaluate(preprocessed)</span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz" style="display:inline-block"></span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">    return study_type</span></div></pre></div><h3 id="io-from-containers"><a href="#io-from-containers" class="css-1r0pe6c">I/O from containers</a></h3><ul class="css-cvh4i0"><li class="css-q43a5f">The base docker image <code class="css-ueqitl">tclarke104/ai-model-base</code> manages running the model and communication with the AI runner</li><li class="css-q43a5f">Inputs:<ul class="css-cvh4i0"><li class="css-q43a5f">Inputs to the containers are a list of filepaths to DICOMDIR directories</li><li class="css-q43a5f">The DICOMDIR format consists of a DICOMDIR file at the root and a directory containing the dicoms from a study<ul class="css-cvh4i0"><li class="css-q43a5f">This was chosen because it is a standardized structure and consistent between multi instance and single instance studies</li></ul></li></ul></li><li class="css-q43a5f">Outputs:<ul class="css-cvh4i0"><li class="css-q43a5f">The output of a container is a list of objects of the class ModelOutput</li><li class="css-q43a5f">ModelOuput can be found in the medaimodels pip package</li></ul></li></ul></div></div></main></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/contributing/contributing-models";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-6fa501141d6fe72b85ff.js"],"app":["/app-1bd4066183ebedab5628.js"],"component---src-contributing-contributing-models-mdx":["/component---src-contributing-contributing-models-mdx-ea33b9bd99be1fed97eb.js"],"component---src-contributing-how-to-contribute-mdx":["/component---src-contributing-how-to-contribute-mdx-fcd68e947a41857b2565.js"],"component---src-getting-started-basic-usage-mdx":["/component---src-getting-started-basic-usage-mdx-2f70eaca314032febb3b.js"],"component---src-getting-started-installation-mdx":["/component---src-getting-started-installation-mdx-e9e3d08916b4ca3553bb.js"],"component---src-index-mdx":["/component---src-index-mdx-242188bfc9c94871374f.js"],"component---src-models-mdx":["/component---src-models-mdx-b5367cf04016c2aa9df5.js"]};/*]]>*/</script><script src="/polyfill-6fa501141d6fe72b85ff.js" nomodule=""></script><script src="/component---src-contributing-contributing-models-mdx-ea33b9bd99be1fed97eb.js" async=""></script><script src="/commons-64389869db8c12890534.js" async=""></script><script src="/044b48a8-9f6a8978b2a91152423b.js" async=""></script><script src="/app-1bd4066183ebedab5628.js" async=""></script><script src="/styles-24f8f5af0e19035407c6.js" async=""></script><script src="/framework-a7bb16c5c6afeed647b2.js" async=""></script><script src="/webpack-runtime-ed65c57d1337cf222d49.js" async=""></script></body></html>